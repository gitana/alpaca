<!DOCTYPE html>
<html>
<head>

    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
    <title>Alpaca - HTML5 Forms for jQuery - Editor Field</title>
    <meta name="keywords" content="alpaca,forms,ace field,gitana"/>
    <meta name="description" content="Cloud 9 ACE Editor Examples for Alpaca Forms."/>
    <meta name="author" content="Gitana Software Inc."/>
    <meta http-equiv="X-UA-Compatible" content="IE=9">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" type="image/x-icon" href="../../../favicon.ico"/>

    <script src="http://maps.google.com/maps/api/js?sensor=false"></script>

    <!-- jQuery -->
    <script type="text/javascript" src="../../../lib/jquery-latest.min.js"></script>
    <script type="text/javascript" src="../../../lib/jquery.tmpl.js"></script>

    <!-- Alpaca -->
    <script type="text/javascript" src="../../../components/alpaca/alpaca.js"></script>
    <link type="text/css" href="../../../components/alpaca/alpaca.css" rel="stylesheet"/>

    <!-- jQuery UI Support -->
    <script type="text/javascript" src="../../../lib/jquery-ui-latest/jquery-ui-latest.custom.min.js"></script>
    <link type="text/css" href="../../../lib/jquery-ui-latest/jquery-ui-latest.custom.css" rel="stylesheet"/>

    <!-- Additional CSS -->
    <link type="text/css" href="../../css/960.fluid.css" rel="stylesheet"/>

    <!-- Required for the Editor field (sample code viewing) -->
    <script src="../../../lib/ace/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>

    <!-- Web Site -->
    <script type="text/javascript" src="../../lib/google-code-prettify/prettify.min.js"></script>
    <script type="text/javascript" src="../../js/themeswitchertool.js"></script>
    <script type="text/javascript" src="../../js/example.js"></script>
    <script type="text/javascript" src="../../js/footer.js"></script>
    <link type="text/css" href="../../css/site.css" rel="stylesheet"/>
    <link type="text/css" href="../../lib/google-code-prettify/prettify.css" rel="stylesheet"/>
    <script type="text/javascript" src="../../lib/tweet/jquery.tweet.js"></script>
    <link type="text/css" href="../../lib/tweet/jquery.tweet.css" rel="stylesheet"/>

    <script type="text/javascript" src="https://use.typekit.com/fnm3kpm.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

</head>
<body>
	<header>
		<div class='container_12'>
	    <div class='actual-body'>
	        <div class='grid_12'>
	            <h1><img src="../../img/alpaca.png"><span>Easy Forms for jQuery</span></h1>
                <div class="resource-bar">
                    <a href="../../../index.html">Home</a>
                    <a href="../../../download.html">Download</a>
                    <a href="javascript:void(0);" class="current">Documentation</a>
                    <a href="../../forms/customer-profile/edit-form.html">Forms</a>
                    <a href="../../../resources.html#mobile">Mobile</a>
                    <a href="../../../tutorials.html">Tutorials</a>
                    <a href="../../../consulting.html">Consulting</a>
                </div>
            </div>
	    </div>
		</div>
	</header>
<div class='container_12'>
    <div class="actual-body">
        <div class="grid_3">
            <div class="container_12 side-bar">
            </div>
        </div>

        <div class="grid_9">
            <div class="container_12">
                <div class="widget">
                    <div class="widget-body">
                        <div class='grid_12 alpaca-example-header' id='ace-field' alpaca-types='ace'>
                            <h1>Editor Field</h1>
                            <p>
                                The editor field uses the <a target="_blank" href="http://ace.ajax.org">Cloud 9 ACE Editor</a> plugin to
                                render an inline editor that supports a wide array of textual content types.  The editor provides a number of
                                very powerful features and allows for the creation and modification of markup and code such as HTML, JavaScript,
                                Java and other languages.
                            </p>

                            <h3>Requirements</h3>
                            <p>
                                The Editor field requires the <a target="_blank" href="http://ace.ajax.org">Cloud 9 ACE Editor</a> to be loaded
                                ahead of its use.
                            </p>
                            <p>
                                Be sure to load <code>lib/ace/src-min-noconflict/ace.js</code> before rendering your forms.  You can
                                download ACE from <a target="_blank" href="http://ace.ajax.org">the ACE project on GitHub</a>.
                            </p>
                        </div>
                        <div class='grid_12 alpaca-example-case'>

                            <!-- example #1 -->
                            <h2>Example #1: Simple Configuration</h2>
                            <p>
                                You can instantiate an editor field by simply setting the <code>type</code> option to <code>editor</code>.  The editor field produces text so make sure that the field type into which the editor places its results is a <code>text</code> field.</code>
                            </p>
                            <div id="field1"></div>
                            <script type="text/javascript" id="field1-script">
                                $(function() {
                                    $("#field1").alpaca({
                                        'data': '{\r\t"firstName": "Pablo",\r\t"lastName": "Neruda",\r\t"age": 81\r}',
                                        'schema': {
                                            "type": "string"
                                        },
                                        'options': {
                                            "type": "editor"
                                        }
                                    });
                                });
                            </script>

                            <!-- example #2 -->
                            <h2>Example #2: Using a different theme ("twilight")</h2>
                            <p>
                                The ACE editor supports <a href="https://github.com/ajaxorg/ace/tree/master/lib/ace/theme" target="_blank">a number of out-of-the-box themes</a>.  You can specify these themes
                                using the options configuration.  Here, we configure the <code>twilight</code> theme.  We also explicitly
                                set the width and the height of the editor.
                            </p>
                            <div id="field2"></div>
                            <script type="text/javascript" id="field2-script">
                                $(function() {
                                    $("#field2").alpaca({
                                        'data': '{\r\t"firstName": "Pablo",\r\t"lastName": "Neruda",\r\t"age": 81\r}',
                                        'schema': {
                                            'type': 'string'
                                        },
                                        'options': {
                                            'type': 'editor',
                                            'aceTheme': 'ace/theme/twilight',
                                            'aceWidth': '300px',
                                            'aceHeight': '200px'
                                        }
                                    });
                                });
                            </script>

                            <!-- example #3 -->
                            <h2>Example #3: Editing a different content type (HTML)</h2>
                            <p>
                                The ACE editor also lets you configure for <a href="https://github.com/ajaxorg/ace/tree/master/lib/ace/mode">the editing different types of content</a>.  By default, the editor
                                configures itself to edit <code>ace/mode/javascript</code> which is the plugin for JavaScript files.  Here, we configure the editor
                                to edit HTML files by setting <code>aceMode></code> to <code>ace/mode/html</code>.
                            </p>
                            <p>
                                We also set the <code>aceFitContentHeight</code> option to <code>true</code> to tell the editor to
                                automatically resize the height to fit its contents.
                            </p>
                            <div id="field3"></div>
                            <script type="text/javascript" id="field3-script">
                                $(function() {
                                    $("#field3").alpaca({
                                        "data": "<html>\r\t<body>\r\t\t<p>A sample paragraph</p>\r\t</body>\r</html>",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "options": {
                                            "type": "editor",
                                            "aceMode": "ace/mode/html",
                                            "aceFitContentHeight": true
                                        }
                                    });
                                });
                            </script>

                            <!-- example #4 -->
                            <h2>Example #4: Customizing the editor</h2>
                            <p>
                                The editor can be customized programmatically using the ACE editor API.  You can grab the reference
                                to the editor control via the <code>postRender</code> callback.
                            </p>
                            <p>
                                Take a look at <a href="http://ace.ajax.org/#nav=howto" target="_blank">ACE How To Guide</a> for some good
                                starting points on API customization.
                            </p>
                            <div id="field4"></div>
                            <script type="text/javascript" id="field4-script">
                                $(function() {
                                    $("#field4").alpaca({
                                        "data": ".myclass {\r\tfont-size:20px;\r}",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "options": {
                                            "type": "editor",
                                            "aceTheme": "ace/theme/solarized_light",
                                            "aceMode": "ace/mode/css",
                                            "aceFitContentHeight": true
                                        },
                                        "postRender": function(control) {

                                            // get the ace editor instance
                                            var editor = control.getEditor();

                                            // insert some text into the editor (after the font-size, line 3)
                                            editor.gotoLine(3);
                                            editor.insert("\tcolor: blue;\r");
                                        }
                                    });
                                });
                            </script>

                            <!-- example #5 -->
                            <h2>Example #5: Multiple editors</h2>
                            <p>
                                You can use Alpaca to instantiate multiple editors if you'd like.  Here we instantiate
                                three editors - one for JavaScript, one for CSS and one for HTML.  When the JavaScript
                                editor's value changes, we update the HTML editor.
                            </p>
                            <div id="field5"></div>
                            <script type="text/javascript" id="field5-script">
                                $(function() {
                                    $("#field5").alpaca({
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "js": {
                                                    "type": "string"
                                                },
                                                "css": {
                                                    "type": "string"
                                                },
                                                "html": {
                                                    "type": "string",
                                                    "readonly": true
                                                }
                                            }
                                        },
                                        "options": {
                                            "fields": {
                                                "js": {
                                                    "label": "JavaScript",
                                                    "type": "editor",
                                                    "aceMode": "ace/mode/javascript",
                                                    "aceFitContentHeight": true
                                                },
                                                "css": {
                                                    "label": "CSS",
                                                    "type": "editor",
                                                    "aceMode": "ace/mode/css",
                                                    "aceFitContentHeight": true
                                                },
                                                "html": {
                                                    "label": "HTML",
                                                    "type": "editor",
                                                    "aceMode": "ace/mode/html",
                                                    "aceFitContentHeight": true
                                                }
                                            }
                                        },
                                        "postRender": function(control) {

                                            // get the three editors
                                            var jsEditor = control.childrenByPropertyId["js"].getEditor();
                                            var cssEditor = control.childrenByPropertyId["css"].getEditor();
                                            var htmlEditor = control.childrenByPropertyId["html"].getEditor();

                                            jsEditor.insert("var title = 'Hello World';");
                                            cssEditor.insert(".field4-code {\r\tcolor:blue;\r}");

                                            var changeFunction = function()
                                            {
                                                var value = "<html>\r";
                                                value += "\t<head>\r";
                                                value += "\t\t<style>\r";
                                                value += cssEditor.getValue() + "\r";
                                                value += "\t\t</style>\r";
                                                value += "\t</head>\r";
                                                value += "\t<body>\r";
                                                value += "\t\t<pre class='field4-code'>" + jsEditor.getValue() + "</pre>\r";
                                                value += "\t</body>\r";
                                                value += "</html>";

                                                htmlEditor.setValue(value);
                                                htmlEditor.clearSelection();
                                            };
                                            changeFunction();

                                            // when the js changes, update the html
                                            jsEditor.getSession().on('change', function(e) {
                                                changeFunction();
                                            });

                                            // when the css changes, update the html
                                            cssEditor.getSession().on('change', function(e) {
                                                changeFunction();
                                            });

                                        }
                                    });
                                });
                            </script>

                        </div>
                        <div class="clear height-fix"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<footer>
    <div class="container_12">
        <div class="grid_12 copyright">
            Copyright &copy; 2013 Gitana Software, Inc. | All Rights Reserved
        </div>
    </div>
</footer>
</body>
</html>

